2022-02-04 11:02:05.788 +02:00 INF Application is starting...
2022-02-04 11:02:07.749 +02:00 INF Now listening on: https://localhost:7089
2022-02-04 11:02:07.752 +02:00 INF Now listening on: http://localhost:5089
2022-02-04 11:02:07.755 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-02-04 11:02:07.755 +02:00 INF Hosting environment: Development
2022-02-04 11:02:07.755 +02:00 INF Content root path: C:\Users\dell\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-02-04 11:02:08.750 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger - -
2022-02-04 11:02:08.905 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger - - - 301 0 - 157.8870ms
2022-02-04 11:02:08.928 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-02-04 11:02:09.820 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 892.6533ms
2022-02-04 11:02:09.945 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/swagger-ui.css - -
2022-02-04 11:02:10.015 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/swagger-ui-bundle.js - -
2022-02-04 11:02:10.015 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/swagger-ui-standalone-preset.js - -
2022-02-04 11:02:10.103 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-02-04 11:02:10.112 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 8.0687ms
2022-02-04 11:02:10.123 +02:00 INF Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-02-04 11:02:10.123 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/swagger-ui.css - - - 200 143943 text/css 178.8042ms
2022-02-04 11:02:10.293 +02:00 INF Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-02-04 11:02:10.296 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 280.4658ms
2022-02-04 11:02:10.360 +02:00 INF Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-02-04 11:02:10.360 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/swagger-ui-bundle.js - - - 200 1096145 application/javascript 345.0493ms
2022-02-04 11:02:10.849 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-02-04 11:02:10.945 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 96.8076ms
2022-02-04 11:02:57.925 +02:00 INF Application is starting...
2022-03-04 11:03:54.543 +02:00 INF Application is starting...
2022-03-04 11:03:57.164 +02:00 INF Now listening on: https://localhost:7089
2022-03-04 11:03:57.168 +02:00 INF Now listening on: http://localhost:5089
2022-03-04 11:03:57.170 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-03-04 11:03:57.171 +02:00 INF Hosting environment: Development
2022-03-04 11:03:57.171 +02:00 INF Content root path: C:\Users\dell\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-03-04 11:03:58.212 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-03-04 11:03:58.657 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 449.6421ms
2022-03-04 11:03:58.718 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-03-04 11:03:58.844 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 125.1829ms
2022-03-04 11:03:59.185 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-03-04 11:03:59.253 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 67.8415ms
2022-04-04 11:04:36.112 +02:00 INF Application is starting...
2022-04-04 11:04:38.342 +02:00 INF Now listening on: https://localhost:7089
2022-04-04 11:04:38.347 +02:00 INF Now listening on: http://localhost:5089
2022-04-04 11:04:38.351 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-04-04 11:04:38.351 +02:00 INF Hosting environment: Development
2022-04-04 11:04:38.351 +02:00 INF Content root path: C:\Users\dell\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-04-04 11:04:39.353 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-04-04 11:04:39.868 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-04-04 11:04:39.877 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 522.4054ms
2022-04-04 11:04:39.880 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 12.2322ms
2022-04-04 11:04:40.211 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-04-04 11:04:40.400 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 189.1521ms
2022-04-04 11:04:47.552 +02:00 INF Request starting HTTP/2 POST https://localhost:7089/Event application/json-patch+json 236
2022-04-04 11:04:47.582 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api)'
2022-04-04 11:04:47.619 +02:00 INF Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(FriendlyGames.Api.Dtos.EventCreateDto) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-04-04 11:04:48.422 +02:00 INF CreateEvent called...
2022-04-04 11:04:49.614 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-04-04 11:04:52.036 +02:00 ERR Failed executing DbCommand (1,256ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Events] ([CreatorId], [EndDateTime], [EventCategoryId], [LevelCategoryId], [Name], [StartDateTime], [SurfaceCategoryId], [SurroundingCategoryId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Events]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-04-04 11:04:52.156 +02:00 ERR An exception occurred in the database while saving changes for context type 'FriendlyGames.DataAccess.FriendlyGamesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Events_EventCategories_EventCategoryId". The conflict occurred in database "FriendlyGames", table "dbo.EventCategories", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1699ae16-e50d-4b1a-8777-7fcf2aa65668
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Events_EventCategories_EventCategoryId". The conflict occurred in database "FriendlyGames", table "dbo.EventCategories", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1699ae16-e50d-4b1a-8777-7fcf2aa65668
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-04-04 11:04:52.248 +02:00 ERR Something went wrong in CreateEvent
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Events_EventCategories_EventCategoryId". The conflict occurred in database "FriendlyGames", table "dbo.EventCategories", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1699ae16-e50d-4b1a-8777-7fcf2aa65668
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FriendlyGames.Api.Controllers.EventController.CreateEvent(EventCreateDto eventCreateDto) in C:\Users\dell\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api\Controllers\EventController.cs:line 46
2022-04-04 11:04:52.314 +02:00 INF Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-04-04 11:04:52.384 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api) in 4759.7504ms
2022-04-04 11:04:52.385 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api)'
2022-04-04 11:04:52.395 +02:00 INF Request finished HTTP/2 POST https://localhost:7089/Event application/json-patch+json 236 - 500 260 application/problem+json;+charset=utf-8 4843.0329ms
2022-05-04 11:05:14.993 +02:00 INF Request starting HTTP/2 POST https://localhost:7089/Event application/json-patch+json 236
2022-05-04 11:05:14.994 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api)'
2022-05-04 11:05:14.994 +02:00 INF Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(FriendlyGames.Api.Dtos.EventCreateDto) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-05-04 11:05:14.996 +02:00 INF CreateEvent called...
2022-05-04 11:05:15.055 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-05-04 11:05:15.691 +02:00 ERR Failed executing DbCommand (626ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Events] ([CreatorId], [EndDateTime], [EventCategoryId], [LevelCategoryId], [Name], [StartDateTime], [SurfaceCategoryId], [SurroundingCategoryId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Events]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-05-04 11:05:15.694 +02:00 ERR An exception occurred in the database while saving changes for context type 'FriendlyGames.DataAccess.FriendlyGamesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Events_EventCategories_EventCategoryId". The conflict occurred in database "FriendlyGames", table "dbo.EventCategories", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1699ae16-e50d-4b1a-8777-7fcf2aa65668
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Events_EventCategories_EventCategoryId". The conflict occurred in database "FriendlyGames", table "dbo.EventCategories", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1699ae16-e50d-4b1a-8777-7fcf2aa65668
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-05-04 11:05:15.747 +02:00 ERR Something went wrong in CreateEvent
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Events_EventCategories_EventCategoryId". The conflict occurred in database "FriendlyGames", table "dbo.EventCategories", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1699ae16-e50d-4b1a-8777-7fcf2aa65668
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FriendlyGames.Api.Controllers.EventController.CreateEvent(EventCreateDto eventCreateDto) in C:\Users\dell\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api\Controllers\EventController.cs:line 46
2022-05-04 11:05:15.750 +02:00 INF Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-05-04 11:05:15.751 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api) in 756.3833ms
2022-05-04 11:05:15.751 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api)'
2022-05-04 11:05:15.752 +02:00 INF Request finished HTTP/2 POST https://localhost:7089/Event application/json-patch+json 236 - 500 260 application/problem+json;+charset=utf-8 759.1214ms
2022-05-04 11:05:36.654 +02:00 INF Request starting HTTP/2 POST https://localhost:7089/Event application/json-patch+json 236
2022-05-04 11:05:36.655 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api)'
2022-05-04 11:05:36.655 +02:00 INF Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(FriendlyGames.Api.Dtos.EventCreateDto) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-05-04 11:05:36.664 +02:00 INF CreateEvent called...
2022-05-04 11:05:36.671 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-05-04 11:05:37.255 +02:00 INF Executed DbCommand (579ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Events] ([CreatorId], [EndDateTime], [EventCategoryId], [LevelCategoryId], [Name], [StartDateTime], [SurfaceCategoryId], [SurroundingCategoryId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Events]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-05-04 11:05:37.344 +02:00 INF Executing CreatedAtRouteResult, writing value of type 'FriendlyGames.Domain.Models.Event'.
2022-05-04 11:05:37.365 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api) in 710.4946ms
2022-05-04 11:05:37.366 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api)'
2022-05-04 11:05:37.373 +02:00 ERR An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-05-04 11:05:37.388 +02:00 INF Request finished HTTP/2 POST https://localhost:7089/Event application/json-patch+json 236 - 500 - text/plain;+charset=utf-8 734.2683ms
2022-06-04 11:06:19.138 +02:00 INF Application is starting...
2022-06-04 11:06:21.162 +02:00 INF Now listening on: https://localhost:7089
2022-06-04 11:06:21.167 +02:00 INF Now listening on: http://localhost:5089
2022-06-04 11:06:21.171 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-06-04 11:06:21.171 +02:00 INF Hosting environment: Development
2022-06-04 11:06:21.172 +02:00 INF Content root path: C:\Users\dell\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-06-04 11:06:21.915 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-06-04 11:06:22.262 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-06-04 11:06:22.266 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 355.1114ms
2022-06-04 11:06:22.287 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 25.0283ms
2022-06-04 11:06:22.553 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-06-04 11:06:22.879 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 325.7347ms
2022-06-04 11:06:29.418 +02:00 INF Request starting HTTP/2 POST https://localhost:7089/Event application/json-patch+json 236
2022-06-04 11:06:29.442 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api)'
2022-06-04 11:06:29.478 +02:00 INF Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(FriendlyGames.Api.Dtos.EventCreateDto) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-06-04 11:06:52.356 +02:00 INF CreateEvent called...
2022-08-04 11:08:21.497 +02:00 INF Application is starting...
2022-08-04 11:08:24.196 +02:00 INF Now listening on: https://localhost:7089
2022-08-04 11:08:24.199 +02:00 INF Now listening on: http://localhost:5089
2022-08-04 11:08:24.203 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-08-04 11:08:24.203 +02:00 INF Hosting environment: Development
2022-08-04 11:08:24.203 +02:00 INF Content root path: C:\Users\dell\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-08-04 11:08:24.754 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-08-04 11:08:25.119 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-08-04 11:08:25.123 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 373.8265ms
2022-08-04 11:08:25.133 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 14.1935ms
2022-08-04 11:08:25.409 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-08-04 11:08:25.624 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 214.6314ms
2022-08-04 11:08:42.419 +02:00 INF Request starting HTTP/2 POST https://localhost:7089/Event application/json-patch+json 236
2022-08-04 11:08:42.454 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api)'
2022-08-04 11:08:42.488 +02:00 INF Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(FriendlyGames.Api.Dtos.EventCreateDto) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-08-04 11:08:49.616 +02:00 INF CreateEvent called...
2022-10-04 11:10:15.374 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-10-04 11:10:17.702 +02:00 INF Executed DbCommand (757ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Events] ([CreatorId], [EndDateTime], [EventCategoryId], [LevelCategoryId], [Name], [StartDateTime], [SurfaceCategoryId], [SurroundingCategoryId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Events]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-10-04 11:10:38.917 +02:00 INF Executing CreatedAtRouteResult, writing value of type 'FriendlyGames.Domain.Models.Event'.
2022-10-04 11:10:38.936 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api) in 116442.9979ms
2022-10-04 11:10:38.939 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api)'
2022-10-04 11:10:38.945 +02:00 ERR An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-10-04 11:10:38.992 +02:00 INF Request finished HTTP/2 POST https://localhost:7089/Event application/json-patch+json 236 - 500 - text/plain;+charset=utf-8 116573.7700ms
2022-13-04 11:13:12.484 +02:00 INF Application is starting...
2022-13-04 11:13:14.784 +02:00 INF Now listening on: https://localhost:7089
2022-13-04 11:13:14.789 +02:00 INF Now listening on: http://localhost:5089
2022-13-04 11:13:14.794 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-13-04 11:13:14.795 +02:00 INF Hosting environment: Development
2022-13-04 11:13:14.795 +02:00 INF Content root path: C:\Users\dell\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-46-04 11:46:27.486 +02:00 INF Application is starting...
2022-46-04 11:46:30.204 +02:00 INF Now listening on: https://localhost:7089
2022-46-04 11:46:30.211 +02:00 INF Now listening on: http://localhost:5089
2022-46-04 11:46:30.214 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-46-04 11:46:30.215 +02:00 INF Hosting environment: Development
2022-46-04 11:46:30.215 +02:00 INF Content root path: D:\Codecool\Advanced - ASP.NET\Week Pair 1\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-46-04 11:46:32.504 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-46-04 11:46:33.481 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 990.3225ms
2022-46-04 11:46:33.622 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-46-04 11:46:33.633 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 12004 application/javascript;+charset=utf-8 12.4957ms
2022-46-04 11:46:33.879 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_vs/browserLink - -
2022-46-04 11:46:34.047 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 168.6880ms
2022-46-04 11:46:34.986 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-46-04 11:46:35.566 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 577.6143ms
2022-48-04 11:48:01.416 +02:00 INF Application is starting...
2022-48-04 11:48:04.367 +02:00 INF Now listening on: https://localhost:7089
2022-48-04 11:48:04.377 +02:00 INF Now listening on: http://localhost:5089
2022-48-04 11:48:04.385 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-48-04 11:48:04.385 +02:00 INF Hosting environment: Development
2022-48-04 11:48:04.385 +02:00 INF Content root path: D:\Codecool\Advanced - ASP.NET\Week Pair 1\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-48-04 11:48:05.613 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-48-04 11:48:06.398 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 795.4578ms
2022-48-04 11:48:06.465 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_vs/browserLink - -
2022-48-04 11:48:06.465 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-48-04 11:48:06.482 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 12004 application/javascript;+charset=utf-8 17.0580ms
2022-48-04 11:48:06.564 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 99.2836ms
2022-48-04 11:48:06.749 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-48-04 11:48:07.472 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 723.0065ms
2022-48-04 11:48:16.130 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/Event - -
2022-48-04 11:48:16.185 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvents (FriendlyGames.Api)'
2022-48-04 11:48:16.191 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvents (FriendlyGames.Api)'
2022-48-04 11:48:16.195 +02:00 ERR An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The '120SecondsDuration' cache profile is not defined.
   at Microsoft.AspNetCore.Mvc.ResponseCacheAttribute.GetCacheProfile(MvcOptions options)
   at Microsoft.AspNetCore.Mvc.ResponseCacheAttribute.CreateInstance(IServiceProvider serviceProvider)
   at Microsoft.AspNetCore.Mvc.Filters.DefaultFilterProvider.ProvideFilter(FilterProviderContext context, FilterItem filterItem)
   at Microsoft.AspNetCore.Mvc.Filters.DefaultFilterProvider.OnProvidersExecuting(FilterProviderContext context)
   at Microsoft.AspNetCore.Mvc.Filters.FilterFactory.CreateUncachedFiltersCore(IFilterProvider[] filterProviders, ActionContext actionContext, List`1 filterItems)
   at Microsoft.AspNetCore.Mvc.Filters.FilterFactory.GetAllFilters(IFilterProvider[] filterProviders, ActionContext actionContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvokerCache.GetCachedResult(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Routing.ControllerRequestDelegateFactory.<>c__DisplayClass10_0.<CreateRequestDelegate>b__0(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-48-04 11:48:16.278 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/Event - - - 500 - text/plain;+charset=utf-8 148.6849ms
2022-49-04 11:49:08.735 +02:00 INF Application is starting...
2022-49-04 11:49:12.043 +02:00 INF Now listening on: https://localhost:7089
2022-49-04 11:49:12.050 +02:00 INF Now listening on: http://localhost:5089
2022-49-04 11:49:12.059 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-49-04 11:49:12.060 +02:00 INF Hosting environment: Development
2022-49-04 11:49:12.060 +02:00 INF Content root path: D:\Codecool\Advanced - ASP.NET\Week Pair 1\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-49-04 11:49:13.282 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-49-04 11:49:14.056 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 779.7000ms
2022-49-04 11:49:14.131 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_vs/browserLink - -
2022-49-04 11:49:14.132 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-49-04 11:49:14.151 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 12004 application/javascript;+charset=utf-8 19.0711ms
2022-49-04 11:49:14.265 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 133.2159ms
2022-49-04 11:49:14.518 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-49-04 11:49:14.909 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 391.2006ms
2022-49-04 11:49:25.899 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/Event - -
2022-49-04 11:49:25.942 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvents (FriendlyGames.Api)'
2022-49-04 11:49:25.979 +02:00 INF Route matched with {action = "GetEvents", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEvents() on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-49-04 11:49:26.750 +02:00 INF GetEvents called...
2022-49-04 11:49:28.634 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-49-04 11:49:33.269 +02:00 ERR Failed executing DbCommand (3,367ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatorId], [e].[EndDateTime], [e].[EventCategoryId], [e].[LevelCategoryId], [e].[Name], [e].[StartDateTime], [e].[SurfaceCategoryId], [e].[SurroundingCategoryId], [u].[Id], [u].[FirstName], [u].[LastName], [e0].[Id], [e0].[Description], [e0].[Name], [l].[Id], [s].[Id], [s0].[Id], [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [l].[Name], [s].[Name], [s0].[Name]
FROM [Events] AS [e]
INNER JOIN [Users] AS [u] ON [e].[CreatorId] = [u].[Id]
INNER JOIN [EventCategories] AS [e0] ON [e].[EventCategoryId] = [e0].[Id]
INNER JOIN [LevelCategories] AS [l] ON [e].[LevelCategoryId] = [l].[Id]
INNER JOIN [SurfaceCategories] AS [s] ON [e].[SurfaceCategoryId] = [s].[Id]
INNER JOIN [SurroundingCategories] AS [s0] ON [e].[SurroundingCategoryId] = [s0].[Id]
LEFT JOIN [Registrations] AS [r] ON [e].[Id] = [r].[EventId]
ORDER BY [e].[Id], [u].[Id], [e0].[Id], [l].[Id], [s].[Id], [s0].[Id], [r].[EventId]
2022-49-04 11:49:33.436 +02:00 ERR An exception occurred while iterating over the results of a query for context type 'FriendlyGames.DataAccess.FriendlyGamesDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'LevelCategories'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b7f57eee-4e7d-43e7-9fa7-dc9ba7d9457c
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'LevelCategories'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b7f57eee-4e7d-43e7-9fa7-dc9ba7d9457c
Error Number:208,State:1,Class:16
2022-49-04 11:49:33.611 +02:00 ERR Something went wrong in GetEvents
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'LevelCategories'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at FriendlyGames.Api.Controllers.EventController.GetEvents() in D:\Codecool\Advanced - ASP.NET\Week Pair 1\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api\Controllers\EventController.cs:line 35
ClientConnectionId:b7f57eee-4e7d-43e7-9fa7-dc9ba7d9457c
Error Number:208,State:1,Class:16
2022-49-04 11:49:33.644 +02:00 INF Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-49-04 11:49:33.997 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.GetEvents (FriendlyGames.Api) in 8009.0321ms
2022-49-04 11:49:33.999 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvents (FriendlyGames.Api)'
2022-49-04 11:49:34.024 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/Event - - - 500 260 application/problem+json;+charset=utf-8 8125.5112ms
2022-52-04 11:52:02.626 +02:00 INF Application is starting...
2022-52-04 11:52:05.478 +02:00 INF Now listening on: https://localhost:7089
2022-52-04 11:52:05.484 +02:00 INF Now listening on: http://localhost:5089
2022-52-04 11:52:05.491 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-52-04 11:52:05.492 +02:00 INF Hosting environment: Development
2022-52-04 11:52:05.492 +02:00 INF Content root path: D:\Codecool\Advanced - ASP.NET\Week Pair 1\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-52-04 11:52:06.890 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-52-04 11:52:07.675 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 794.7620ms
2022-52-04 11:52:07.728 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-52-04 11:52:07.748 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_vs/browserLink - -
2022-52-04 11:52:07.757 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 12004 application/javascript;+charset=utf-8 28.1215ms
2022-52-04 11:52:07.863 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 114.8419ms
2022-52-04 11:52:08.099 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-52-04 11:52:08.559 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 460.1153ms
2022-52-04 11:52:14.621 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/Event - -
2022-52-04 11:52:14.660 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvents (FriendlyGames.Api)'
2022-52-04 11:52:14.685 +02:00 INF Route matched with {action = "GetEvents", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEvents() on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-52-04 11:52:15.236 +02:00 INF GetEvents called...
2022-53-04 11:53:03.932 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-53-04 11:53:05.770 +02:00 ERR Failed executing DbCommand (865ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatorId], [e].[EndDateTime], [e].[EventCategoryId], [e].[LevelCategoryId], [e].[Name], [e].[StartDateTime], [e].[SurfaceCategoryId], [e].[SurroundingCategoryId], [u].[Id], [u].[FirstName], [u].[LastName], [e0].[Id], [e0].[Description], [e0].[Name], [l].[Id], [s].[Id], [s0].[Id], [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [l].[Name], [s].[Name], [s0].[Name]
FROM [Events] AS [e]
INNER JOIN [Users] AS [u] ON [e].[CreatorId] = [u].[Id]
INNER JOIN [EventCategories] AS [e0] ON [e].[EventCategoryId] = [e0].[Id]
INNER JOIN [LevelCategories] AS [l] ON [e].[LevelCategoryId] = [l].[Id]
INNER JOIN [SurfaceCategories] AS [s] ON [e].[SurfaceCategoryId] = [s].[Id]
INNER JOIN [SurroundingCategories] AS [s0] ON [e].[SurroundingCategoryId] = [s0].[Id]
LEFT JOIN [Registrations] AS [r] ON [e].[Id] = [r].[EventId]
ORDER BY [e].[Id], [u].[Id], [e0].[Id], [l].[Id], [s].[Id], [s0].[Id], [r].[EventId]
2022-53-04 11:53:05.867 +02:00 ERR An exception occurred while iterating over the results of a query for context type 'FriendlyGames.DataAccess.FriendlyGamesDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'LevelCategories'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f6b3e3ed-0405-439f-b528-5348d3136b4e
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'LevelCategories'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:f6b3e3ed-0405-439f-b528-5348d3136b4e
Error Number:208,State:1,Class:16
2022-55-04 11:55:59.950 +02:00 INF Application is starting...
2022-56-04 11:56:02.515 +02:00 INF Now listening on: https://localhost:7089
2022-56-04 11:56:02.523 +02:00 INF Now listening on: http://localhost:5089
2022-56-04 11:56:02.531 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-56-04 11:56:02.531 +02:00 INF Hosting environment: Development
2022-56-04 11:56:02.531 +02:00 INF Content root path: D:\Codecool\Advanced - ASP.NET\Week Pair 1\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-56-04 11:56:03.749 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-56-04 11:56:04.343 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 599.4017ms
2022-56-04 11:56:04.406 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_vs/browserLink - -
2022-56-04 11:56:04.406 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-56-04 11:56:04.419 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 12004 application/javascript;+charset=utf-8 12.8232ms
2022-56-04 11:56:04.769 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 362.7778ms
2022-56-04 11:56:04.930 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-56-04 11:56:05.228 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 298.1259ms
2022-56-04 11:56:10.199 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/Event - -
2022-56-04 11:56:10.257 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvents (FriendlyGames.Api)'
2022-56-04 11:56:10.290 +02:00 INF Route matched with {action = "GetEvents", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEvents() on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-56-04 11:56:10.915 +02:00 INF GetEvents called...
2022-56-04 11:56:23.933 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-56-04 11:56:25.997 +02:00 INF Executed DbCommand (134ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatorId], [e].[EndDateTime], [e].[EventCategoryId], [e].[LevelCategoryId], [e].[Name], [e].[StartDateTime], [e].[SurfaceCategoryId], [e].[SurroundingCategoryId], [u].[Id], [u].[FirstName], [u].[LastName], [e0].[Id], [e0].[Description], [e0].[Name], [l].[Id], [s].[Id], [s0].[Id], [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [l].[Name], [s].[Name], [s0].[Name]
FROM [Events] AS [e]
INNER JOIN [Users] AS [u] ON [e].[CreatorId] = [u].[Id]
INNER JOIN [EventCategories] AS [e0] ON [e].[EventCategoryId] = [e0].[Id]
INNER JOIN [LevelCategories] AS [l] ON [e].[LevelCategoryId] = [l].[Id]
INNER JOIN [SurfaceCategories] AS [s] ON [e].[SurfaceCategoryId] = [s].[Id]
INNER JOIN [SurroundingCategories] AS [s0] ON [e].[SurroundingCategoryId] = [s0].[Id]
LEFT JOIN [Registrations] AS [r] ON [e].[Id] = [r].[EventId]
ORDER BY [e].[Id], [u].[Id], [e0].[Id], [l].[Id], [s].[Id], [s0].[Id], [r].[EventId]
2022-56-04 11:56:48.718 +02:00 INF Application is starting...
2022-56-04 11:56:51.693 +02:00 INF Now listening on: https://localhost:7089
2022-56-04 11:56:51.700 +02:00 INF Now listening on: http://localhost:5089
2022-56-04 11:56:51.707 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-56-04 11:56:51.708 +02:00 INF Hosting environment: Development
2022-56-04 11:56:51.708 +02:00 INF Content root path: D:\Codecool\Advanced - ASP.NET\Week Pair 1\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-56-04 11:56:52.837 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-56-04 11:56:53.641 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 806.3819ms
2022-56-04 11:56:53.733 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_vs/browserLink - -
2022-56-04 11:56:53.733 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-56-04 11:56:53.769 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 12004 application/javascript;+charset=utf-8 35.4646ms
2022-56-04 11:56:53.851 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 118.2511ms
2022-56-04 11:56:54.008 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-56-04 11:56:54.302 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 294.1694ms
2022-56-04 11:56:58.330 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/Event - -
2022-56-04 11:56:58.373 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvents (FriendlyGames.Api)'
2022-56-04 11:56:58.401 +02:00 INF Route matched with {action = "GetEvents", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetEvents() on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-56-04 11:56:59.055 +02:00 INF GetEvents called...
2022-57-04 11:57:00.859 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-57-04 11:57:02.776 +02:00 INF Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[CreatorId], [e].[EndDateTime], [e].[EventCategoryId], [e].[LevelCategoryId], [e].[Name], [e].[StartDateTime], [e].[SurfaceCategoryId], [e].[SurroundingCategoryId], [u].[Id], [u].[FirstName], [u].[LastName], [e0].[Id], [e0].[Description], [e0].[Name], [l].[Id], [s].[Id], [s0].[Id], [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [l].[Name], [s].[Name], [s0].[Name]
FROM [Events] AS [e]
INNER JOIN [Users] AS [u] ON [e].[CreatorId] = [u].[Id]
INNER JOIN [EventCategories] AS [e0] ON [e].[EventCategoryId] = [e0].[Id]
INNER JOIN [LevelCategories] AS [l] ON [e].[LevelCategoryId] = [l].[Id]
INNER JOIN [SurfaceCategories] AS [s] ON [e].[SurfaceCategoryId] = [s].[Id]
INNER JOIN [SurroundingCategories] AS [s0] ON [e].[SurroundingCategoryId] = [s0].[Id]
LEFT JOIN [Registrations] AS [r] ON [e].[Id] = [r].[EventId]
ORDER BY [e].[Id], [u].[Id], [e0].[Id], [l].[Id], [s].[Id], [s0].[Id], [r].[EventId]
2022-57-04 11:57:03.139 +02:00 INF Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[FriendlyGames.Api.Dtos.EventGetDto, FriendlyGames.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-57-04 11:57:03.462 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.GetEvents (FriendlyGames.Api) in 5045.5823ms
2022-57-04 11:57:03.465 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvents (FriendlyGames.Api)'
2022-57-04 11:57:03.491 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/Event - - - 200 27993 application/json;+charset=utf-8 5161.1826ms
2022-57-04 11:57:55.327 +02:00 INF Application is starting...
2022-57-04 11:57:59.022 +02:00 INF Now listening on: https://localhost:7089
2022-57-04 11:57:59.030 +02:00 INF Now listening on: http://localhost:5089
2022-57-04 11:57:59.035 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-57-04 11:57:59.036 +02:00 INF Hosting environment: Development
2022-57-04 11:57:59.036 +02:00 INF Content root path: D:\Codecool\Advanced - ASP.NET\Week Pair 1\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-58-04 11:58:00.134 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-58-04 11:58:00.832 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 715.2783ms
2022-58-04 11:58:00.876 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-58-04 11:58:00.878 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_vs/browserLink - -
2022-58-04 11:58:00.894 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 12004 application/javascript;+charset=utf-8 18.5833ms
2022-58-04 11:58:00.981 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 103.3625ms
2022-58-04 11:58:01.169 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-58-04 11:58:01.469 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 298.8704ms
2022-58-04 11:58:04.701 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/Event - -
2022-58-04 11:58:04.749 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvents (FriendlyGames.Api)'
2022-58-04 11:58:04.752 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvents (FriendlyGames.Api)'
2022-58-04 11:58:04.757 +02:00 ERR An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The '120SecondsDuration' cache profile is not defined.
   at Microsoft.AspNetCore.Mvc.ResponseCacheAttribute.GetCacheProfile(MvcOptions options)
   at Microsoft.AspNetCore.Mvc.ResponseCacheAttribute.CreateInstance(IServiceProvider serviceProvider)
   at Microsoft.AspNetCore.Mvc.Filters.DefaultFilterProvider.ProvideFilter(FilterProviderContext context, FilterItem filterItem)
   at Microsoft.AspNetCore.Mvc.Filters.DefaultFilterProvider.OnProvidersExecuting(FilterProviderContext context)
   at Microsoft.AspNetCore.Mvc.Filters.FilterFactory.CreateUncachedFiltersCore(IFilterProvider[] filterProviders, ActionContext actionContext, List`1 filterItems)
   at Microsoft.AspNetCore.Mvc.Filters.FilterFactory.GetAllFilters(IFilterProvider[] filterProviders, ActionContext actionContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvokerCache.GetCachedResult(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Routing.ControllerRequestDelegateFactory.<>c__DisplayClass10_0.<CreateRequestDelegate>b__0(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-58-04 11:58:04.810 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/Event - - - 500 - text/plain;+charset=utf-8 109.7647ms
2022-14-04 13:14:14.936 +02:00 INF Application is starting...
2022-14-04 13:14:17.641 +02:00 INF Now listening on: https://localhost:7089
2022-14-04 13:14:17.645 +02:00 INF Now listening on: http://localhost:5089
2022-14-04 13:14:17.650 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-14-04 13:14:17.651 +02:00 INF Hosting environment: Development
2022-14-04 13:14:17.651 +02:00 INF Content root path: D:\Codecool\Advanced - ASP.NET\Week Pair 1\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-14-04 13:14:19.060 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-14-04 13:14:19.875 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 825.6336ms
2022-14-04 13:14:19.948 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-14-04 13:14:19.948 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_vs/browserLink - -
2022-14-04 13:14:19.961 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 12004 application/javascript;+charset=utf-8 14.1632ms
2022-14-04 13:14:20.084 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 136.2343ms
2022-14-04 13:14:20.299 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-14-04 13:14:20.747 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 448.0877ms
2022-14-04 13:14:37.297 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/Event/1 - -
2022-14-04 13:14:37.348 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api)'
2022-14-04 13:14:37.408 +02:00 INF Route matched with {action = "GetEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FriendlyGames.Api.Dtos.EventGetDto]] GetEvent(Int32) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-14-04 13:14:37.941 +02:00 INF GetEvent called...
2022-14-04 13:14:39.661 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-14-04 13:14:42.669 +02:00 INF Executed DbCommand (193ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatorId], [e].[EndDateTime], [e].[EventCategoryId], [e].[LevelCategoryId], [e].[Name], [e].[StartDateTime], [e].[SurfaceCategoryId], [e].[SurroundingCategoryId]
FROM [Events] AS [e]
WHERE [e].[Id] = @__id_0
2022-14-04 13:14:42.909 +02:00 INF Executing OkObjectResult, writing value of type 'FriendlyGames.Api.Dtos.EventGetDto'.
2022-14-04 13:14:43.189 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api) in 5772.7295ms
2022-14-04 13:14:43.192 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api)'
2022-14-04 13:14:43.214 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/Event/1 - - - 200 331 application/json;+charset=utf-8 5917.3841ms
2022-15-04 13:15:12.345 +02:00 INF Application is starting...
2022-15-04 13:15:14.579 +02:00 INF Now listening on: https://localhost:7089
2022-15-04 13:15:14.585 +02:00 INF Now listening on: http://localhost:5089
2022-15-04 13:15:14.591 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-15-04 13:15:14.592 +02:00 INF Hosting environment: Development
2022-15-04 13:15:14.592 +02:00 INF Content root path: D:\Codecool\Advanced - ASP.NET\Week Pair 1\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-15-04 13:15:15.721 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-15-04 13:15:16.369 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 662.9389ms
2022-15-04 13:15:16.423 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_vs/browserLink - -
2022-15-04 13:15:16.423 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-15-04 13:15:16.431 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 12004 application/javascript;+charset=utf-8 7.5147ms
2022-15-04 13:15:16.537 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 113.7862ms
2022-15-04 13:15:16.713 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-15-04 13:15:17.337 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 624.1343ms
2022-15-04 13:15:24.788 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/Event/2 - -
2022-15-04 13:15:24.863 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api)'
2022-15-04 13:15:24.905 +02:00 INF Route matched with {action = "GetEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FriendlyGames.Api.Dtos.EventGetDto]] GetEvent(Int32) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-15-04 13:15:25.495 +02:00 INF GetEvent called...
2022-15-04 13:15:27.443 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-15-04 13:15:29.167 +02:00 INF Executed DbCommand (151ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatorId], [e].[EndDateTime], [e].[EventCategoryId], [e].[LevelCategoryId], [e].[Name], [e].[StartDateTime], [e].[SurfaceCategoryId], [e].[SurroundingCategoryId]
FROM [Events] AS [e]
WHERE [e].[Id] = @__id_0
2022-15-04 13:15:29.392 +02:00 INF Executing OkObjectResult, writing value of type 'FriendlyGames.Api.Dtos.EventGetDto'.
2022-15-04 13:15:29.659 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api) in 4745.7355ms
2022-15-04 13:15:29.661 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api)'
2022-15-04 13:15:29.675 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/Event/2 - - - 200 332 application/json;+charset=utf-8 4887.1972ms
2022-17-04 13:17:42.462 +02:00 INF Application is starting...
2022-17-04 13:17:45.384 +02:00 INF Now listening on: https://localhost:7089
2022-17-04 13:17:45.392 +02:00 INF Now listening on: http://localhost:5089
2022-17-04 13:17:45.398 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-17-04 13:17:45.399 +02:00 INF Hosting environment: Development
2022-17-04 13:17:45.399 +02:00 INF Content root path: D:\Codecool\Advanced - ASP.NET\Week Pair 1\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-17-04 13:17:46.510 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-17-04 13:17:47.277 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 776.6430ms
2022-17-04 13:17:47.316 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-17-04 13:17:47.328 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 12004 application/javascript;+charset=utf-8 12.0566ms
2022-17-04 13:17:47.357 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_vs/browserLink - -
2022-17-04 13:17:47.503 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 145.8602ms
2022-17-04 13:17:47.803 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-17-04 13:17:48.210 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 407.4104ms
2022-17-04 13:17:57.079 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/Event/1 - -
2022-17-04 13:17:57.150 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api)'
2022-17-04 13:17:57.207 +02:00 INF Route matched with {action = "GetEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FriendlyGames.Api.Dtos.EventGetDto]] GetEvent(Int32) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-17-04 13:17:57.813 +02:00 INF GetEvent called...
2022-17-04 13:17:59.658 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-18-04 13:18:01.665 +02:00 INF Executed DbCommand (163ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatorId], [t].[EndDateTime], [t].[EventCategoryId], [t].[LevelCategoryId], [t].[Name], [t].[StartDateTime], [t].[SurfaceCategoryId], [t].[SurroundingCategoryId], [t].[Id0], [t].[FirstName], [t].[LastName], [t].[Id1], [t].[Description], [t].[Name0], [t].[Id2], [t].[Id3], [t].[Id4], [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [t].[Name1], [t].[Name2], [t].[Name3]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatorId], [e].[EndDateTime], [e].[EventCategoryId], [e].[LevelCategoryId], [e].[Name], [e].[StartDateTime], [e].[SurfaceCategoryId], [e].[SurroundingCategoryId], [u].[Id] AS [Id0], [u].[FirstName], [u].[LastName], [e0].[Id] AS [Id1], [e0].[Description], [e0].[Name] AS [Name0], [l].[Id] AS [Id2], [l].[Name] AS [Name1], [s].[Id] AS [Id3], [s].[Name] AS [Name2], [s0].[Id] AS [Id4], [s0].[Name] AS [Name3]
    FROM [Events] AS [e]
    INNER JOIN [Users] AS [u] ON [e].[CreatorId] = [u].[Id]
    INNER JOIN [EventCategories] AS [e0] ON [e].[EventCategoryId] = [e0].[Id]
    INNER JOIN [LevelCategories] AS [l] ON [e].[LevelCategoryId] = [l].[Id]
    INNER JOIN [SurfaceCategories] AS [s] ON [e].[SurfaceCategoryId] = [s].[Id]
    INNER JOIN [SurroundingCategories] AS [s0] ON [e].[SurroundingCategoryId] = [s0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Registrations] AS [r] ON [t].[Id] = [r].[EventId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [r].[EventId]
2022-18-04 13:18:01.991 +02:00 INF Executing OkObjectResult, writing value of type 'FriendlyGames.Api.Dtos.EventGetDto'.
2022-18-04 13:18:02.278 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api) in 5060.9852ms
2022-18-04 13:18:02.280 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api)'
2022-18-04 13:18:02.298 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/Event/1 - - - 200 3145 application/json;+charset=utf-8 5218.8850ms
2022-35-04 13:35:05.135 +02:00 INF Application is starting...
2022-35-04 13:35:08.244 +02:00 INF Now listening on: https://localhost:7089
2022-35-04 13:35:08.251 +02:00 INF Now listening on: http://localhost:5089
2022-35-04 13:35:08.257 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-35-04 13:35:08.258 +02:00 INF Hosting environment: Development
2022-35-04 13:35:08.258 +02:00 INF Content root path: D:\Codecool\Advanced - ASP.NET\Week Pair 1\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-35-04 13:35:09.347 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-35-04 13:35:09.995 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 661.0443ms
2022-35-04 13:35:10.072 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-35-04 13:35:10.072 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_vs/browserLink - -
2022-35-04 13:35:10.096 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 12004 application/javascript;+charset=utf-8 24.1625ms
2022-35-04 13:35:10.212 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 140.1312ms
2022-35-04 13:35:10.428 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-35-04 13:35:10.840 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 411.4632ms
2022-35-04 13:35:19.546 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/Event/56 - -
2022-35-04 13:35:19.615 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api)'
2022-35-04 13:35:19.660 +02:00 INF Route matched with {action = "GetEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FriendlyGames.Api.Dtos.EventGetDto]] GetEvent(Int32) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-35-04 13:35:20.283 +02:00 INF GetEvent called...
2022-35-04 13:35:22.054 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-35-04 13:35:25.292 +02:00 INF Executed DbCommand (139ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [r0].[Id], [r0].[Name], [u].[Id], [u].[FirstName], [u].[LastName]
FROM [Registrations] AS [r]
INNER JOIN [RegistrationCategories] AS [r0] ON [r].[RegistrationCategoryId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [r].[EventId] = @__id_0
2022-35-04 13:35:25.628 +02:00 INF Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatorId], [t].[EndDateTime], [t].[EventCategoryId], [t].[LevelCategoryId], [t].[Name], [t].[StartDateTime], [t].[SurfaceCategoryId], [t].[SurroundingCategoryId], [t].[Id0], [t].[FirstName], [t].[LastName], [t].[Id1], [t].[Description], [t].[Name0], [t].[Id2], [t].[Id3], [t].[Id4], [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [t].[Name1], [t].[Name2], [t].[Name3]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatorId], [e].[EndDateTime], [e].[EventCategoryId], [e].[LevelCategoryId], [e].[Name], [e].[StartDateTime], [e].[SurfaceCategoryId], [e].[SurroundingCategoryId], [u].[Id] AS [Id0], [u].[FirstName], [u].[LastName], [e0].[Id] AS [Id1], [e0].[Description], [e0].[Name] AS [Name0], [l].[Id] AS [Id2], [l].[Name] AS [Name1], [s].[Id] AS [Id3], [s].[Name] AS [Name2], [s0].[Id] AS [Id4], [s0].[Name] AS [Name3]
    FROM [Events] AS [e]
    INNER JOIN [Users] AS [u] ON [e].[CreatorId] = [u].[Id]
    INNER JOIN [EventCategories] AS [e0] ON [e].[EventCategoryId] = [e0].[Id]
    INNER JOIN [LevelCategories] AS [l] ON [e].[LevelCategoryId] = [l].[Id]
    INNER JOIN [SurfaceCategories] AS [s] ON [e].[SurfaceCategoryId] = [s].[Id]
    INNER JOIN [SurroundingCategories] AS [s0] ON [e].[SurroundingCategoryId] = [s0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Registrations] AS [r] ON [t].[Id] = [r].[EventId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [r].[EventId]
2022-35-04 13:35:25.647 +02:00 INF Executing NotFoundObjectResult, writing value of type 'System.String'.
2022-35-04 13:35:25.655 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api) in 5987.7631ms
2022-35-04 13:35:25.659 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api)'
2022-35-04 13:35:25.672 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/Event/56 - - - 404 - text/plain;+charset=utf-8 6125.2561ms
2022-35-04 13:35:35.663 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/Event/1 - -
2022-35-04 13:35:35.663 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api)'
2022-35-04 13:35:35.664 +02:00 INF Route matched with {action = "GetEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FriendlyGames.Api.Dtos.EventGetDto]] GetEvent(Int32) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-35-04 13:35:35.665 +02:00 INF GetEvent called...
2022-35-04 13:35:35.667 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-35-04 13:35:35.693 +02:00 INF Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [r0].[Id], [r0].[Name], [u].[Id], [u].[FirstName], [u].[LastName]
FROM [Registrations] AS [r]
INNER JOIN [RegistrationCategories] AS [r0] ON [r].[RegistrationCategoryId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [r].[EventId] = @__id_0
2022-35-04 13:35:35.864 +02:00 INF Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatorId], [t].[EndDateTime], [t].[EventCategoryId], [t].[LevelCategoryId], [t].[Name], [t].[StartDateTime], [t].[SurfaceCategoryId], [t].[SurroundingCategoryId], [t].[Id0], [t].[FirstName], [t].[LastName], [t].[Id1], [t].[Description], [t].[Name0], [t].[Id2], [t].[Id3], [t].[Id4], [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [t].[Name1], [t].[Name2], [t].[Name3]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatorId], [e].[EndDateTime], [e].[EventCategoryId], [e].[LevelCategoryId], [e].[Name], [e].[StartDateTime], [e].[SurfaceCategoryId], [e].[SurroundingCategoryId], [u].[Id] AS [Id0], [u].[FirstName], [u].[LastName], [e0].[Id] AS [Id1], [e0].[Description], [e0].[Name] AS [Name0], [l].[Id] AS [Id2], [l].[Name] AS [Name1], [s].[Id] AS [Id3], [s].[Name] AS [Name2], [s0].[Id] AS [Id4], [s0].[Name] AS [Name3]
    FROM [Events] AS [e]
    INNER JOIN [Users] AS [u] ON [e].[CreatorId] = [u].[Id]
    INNER JOIN [EventCategories] AS [e0] ON [e].[EventCategoryId] = [e0].[Id]
    INNER JOIN [LevelCategories] AS [l] ON [e].[LevelCategoryId] = [l].[Id]
    INNER JOIN [SurfaceCategories] AS [s] ON [e].[SurfaceCategoryId] = [s].[Id]
    INNER JOIN [SurroundingCategories] AS [s0] ON [e].[SurroundingCategoryId] = [s0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Registrations] AS [r] ON [t].[Id] = [r].[EventId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [r].[EventId]
2022-35-04 13:35:35.959 +02:00 INF Executing OkObjectResult, writing value of type 'FriendlyGames.Api.Dtos.EventGetDto'.
2022-35-04 13:35:36.216 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api) in 551.9176ms
2022-35-04 13:35:36.216 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api)'
2022-35-04 13:35:36.216 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/Event/1 - - - 200 3475 application/json;+charset=utf-8 553.1907ms
2022-49-04 13:49:43.513 +02:00 INF Application is starting...
2022-49-04 13:49:47.126 +02:00 INF Now listening on: https://localhost:7089
2022-49-04 13:49:47.130 +02:00 INF Now listening on: http://localhost:5089
2022-49-04 13:49:47.133 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-49-04 13:49:47.133 +02:00 INF Hosting environment: Development
2022-49-04 13:49:47.133 +02:00 INF Content root path: D:\projekty\Asp.net advanced\week1\TW\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-49-04 13:49:47.309 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger - -
2022-49-04 13:49:47.436 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger - - - 301 0 - 130.4881ms
2022-49-04 13:49:47.441 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-49-04 13:49:47.709 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 268.3010ms
2022-49-04 13:49:47.725 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/swagger-ui-standalone-preset.js - -
2022-49-04 13:49:47.725 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/swagger-ui.css - -
2022-49-04 13:49:47.727 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-49-04 13:49:47.738 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/swagger-ui-bundle.js - -
2022-49-04 13:49:47.750 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 24.1117ms
2022-49-04 13:49:47.770 +02:00 INF Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-49-04 13:49:47.770 +02:00 INF Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-49-04 13:49:47.773 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/swagger-ui.css - - - 200 143943 text/css 47.2496ms
2022-49-04 13:49:47.773 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 47.3349ms
2022-49-04 13:49:47.779 +02:00 INF Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-49-04 13:49:47.780 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/swagger-ui-bundle.js - - - 200 1096145 application/javascript 44.5407ms
2022-49-04 13:49:47.987 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-49-04 13:49:48.012 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/favicon-32x32.png - -
2022-49-04 13:49:48.013 +02:00 INF Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-49-04 13:49:48.013 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/favicon-32x32.png - - - 200 628 image/png 0.4145ms
2022-49-04 13:49:48.125 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 138.4180ms
2022-50-04 13:50:02.025 +02:00 INF Request starting HTTP/2 DELETE https://localhost:7089/Event/1 - -
2022-50-04 13:50:02.050 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.DeleteEvent (FriendlyGames.Api)'
2022-50-04 13:50:02.075 +02:00 INF Route matched with {action = "DeleteEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteEvent(Int32) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-50-04 13:50:02.714 +02:00 INF DeleteEvent called...
2022-50-04 13:50:03.706 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-50-04 13:50:06.067 +02:00 INF Executed DbCommand (82ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatorId], [e].[EndDateTime], [e].[EventCategoryId], [e].[LevelCategoryId], [e].[Name], [e].[StartDateTime], [e].[SurfaceCategoryId], [e].[SurroundingCategoryId]
FROM [Events] AS [e]
WHERE [e].[Id] = @__id_0
2022-50-04 13:50:06.317 +02:00 ERR Failed executing DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Events]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2022-50-04 13:50:06.473 +02:00 ERR An exception occurred in the database while saving changes for context type 'FriendlyGames.DataAccess.FriendlyGamesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Registrations_Events_EventId". The conflict occurred in database "FriendlyGames", table "dbo.Registrations", column 'EventId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:eac5aad1-9ab0-4e21-9517-dd2600e7c8b2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Registrations_Events_EventId". The conflict occurred in database "FriendlyGames", table "dbo.Registrations", column 'EventId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:eac5aad1-9ab0-4e21-9517-dd2600e7c8b2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-50-04 13:50:06.545 +02:00 ERR Something went wrong in DeleteEvent
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Registrations_Events_EventId". The conflict occurred in database "FriendlyGames", table "dbo.Registrations", column 'EventId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:eac5aad1-9ab0-4e21-9517-dd2600e7c8b2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FriendlyGames.Api.Controllers.EventController.DeleteEvent(Int32 id) in D:\projekty\Asp.net advanced\week1\TW\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api\Controllers\EventController.cs:line 153
2022-50-04 13:50:06.563 +02:00 INF Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-50-04 13:50:06.784 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.DeleteEvent (FriendlyGames.Api) in 4703.7269ms
2022-50-04 13:50:06.785 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.DeleteEvent (FriendlyGames.Api)'
2022-50-04 13:50:06.793 +02:00 INF Request finished HTTP/2 DELETE https://localhost:7089/Event/1 - - - 500 260 application/problem+json;+charset=utf-8 4768.5334ms
2022-50-04 13:50:50.706 +02:00 INF Application is starting...
2022-50-04 13:50:51.763 +02:00 INF Now listening on: https://localhost:7089
2022-50-04 13:50:51.766 +02:00 INF Now listening on: http://localhost:5089
2022-50-04 13:50:51.768 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-50-04 13:50:51.768 +02:00 INF Hosting environment: Development
2022-50-04 13:50:51.768 +02:00 INF Content root path: D:\projekty\Asp.net advanced\week1\TW\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-50-04 13:50:52.162 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-50-04 13:50:52.428 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 269.8354ms
2022-50-04 13:50:52.442 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-50-04 13:50:52.446 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 4.3425ms
2022-50-04 13:50:52.656 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-50-04 13:50:52.778 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 121.4590ms
2022-50-04 13:50:58.777 +02:00 INF Request starting HTTP/2 DELETE https://localhost:7089/Event/1 - -
2022-50-04 13:50:58.801 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.DeleteEvent (FriendlyGames.Api)'
2022-50-04 13:50:58.826 +02:00 INF Route matched with {action = "DeleteEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteEvent(Int32) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-50-04 13:50:59.137 +02:00 INF DeleteEvent called...
2022-51-04 13:51:00.079 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-51-04 13:51:00.984 +02:00 INF Executed DbCommand (77ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatorId], [e].[EndDateTime], [e].[EventCategoryId], [e].[LevelCategoryId], [e].[Name], [e].[StartDateTime], [e].[SurfaceCategoryId], [e].[SurroundingCategoryId]
FROM [Events] AS [e]
WHERE [e].[Id] = @__id_0
2022-51-04 13:51:01.236 +02:00 ERR Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Events]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2022-51-04 13:51:01.286 +02:00 ERR An exception occurred in the database while saving changes for context type 'FriendlyGames.DataAccess.FriendlyGamesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Registrations_Events_EventId". The conflict occurred in database "FriendlyGames", table "dbo.Registrations", column 'EventId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a435ada2-870c-4aeb-8906-4b1676ca606c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Registrations_Events_EventId". The conflict occurred in database "FriendlyGames", table "dbo.Registrations", column 'EventId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a435ada2-870c-4aeb-8906-4b1676ca606c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-51-04 13:51:01.361 +02:00 ERR Something went wrong in DeleteEvent
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Registrations_Events_EventId". The conflict occurred in database "FriendlyGames", table "dbo.Registrations", column 'EventId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a435ada2-870c-4aeb-8906-4b1676ca606c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FriendlyGames.Api.Controllers.EventController.DeleteEvent(Int32 id) in D:\projekty\Asp.net advanced\week1\TW\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api\Controllers\EventController.cs:line 153
2022-51-04 13:51:01.375 +02:00 INF Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-51-04 13:51:01.515 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.DeleteEvent (FriendlyGames.Api) in 2684.7343ms
2022-51-04 13:51:01.516 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.DeleteEvent (FriendlyGames.Api)'
2022-51-04 13:51:01.524 +02:00 INF Request finished HTTP/2 DELETE https://localhost:7089/Event/1 - - - 500 260 application/problem+json;+charset=utf-8 2746.8545ms
2022-51-04 13:51:40.513 +02:00 INF Application is starting...
2022-51-04 13:51:41.586 +02:00 INF Now listening on: https://localhost:7089
2022-51-04 13:51:41.590 +02:00 INF Now listening on: http://localhost:5089
2022-51-04 13:51:41.593 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-51-04 13:51:41.593 +02:00 INF Hosting environment: Development
2022-51-04 13:51:41.593 +02:00 INF Content root path: D:\projekty\Asp.net advanced\week1\TW\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-51-04 13:51:41.900 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-51-04 13:51:42.271 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 374.5829ms
2022-51-04 13:51:42.290 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-51-04 13:51:42.295 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 4.8779ms
2022-51-04 13:51:42.397 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-51-04 13:51:42.536 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 138.5002ms
2022-51-04 13:51:47.965 +02:00 INF Request starting HTTP/2 DELETE https://localhost:7089/Event/1 - -
2022-51-04 13:51:47.990 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.DeleteEvent (FriendlyGames.Api)'
2022-51-04 13:51:48.014 +02:00 INF Route matched with {action = "DeleteEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteEvent(Int32) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-51-04 13:51:48.335 +02:00 INF DeleteEvent called...
2022-51-04 13:51:59.279 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-52-04 13:52:00.216 +02:00 INF Executed DbCommand (78ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatorId], [e].[EndDateTime], [e].[EventCategoryId], [e].[LevelCategoryId], [e].[Name], [e].[StartDateTime], [e].[SurfaceCategoryId], [e].[SurroundingCategoryId]
FROM [Events] AS [e]
WHERE [e].[Id] = @__id_0
2022-52-04 13:52:35.561 +02:00 ERR Failed executing DbCommand (30ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Events]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2022-52-04 13:52:35.610 +02:00 ERR An exception occurred in the database while saving changes for context type 'FriendlyGames.DataAccess.FriendlyGamesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Registrations_Events_EventId". The conflict occurred in database "FriendlyGames", table "dbo.Registrations", column 'EventId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b07878fe-58ab-4ddd-a381-4c35b2e021f6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Registrations_Events_EventId". The conflict occurred in database "FriendlyGames", table "dbo.Registrations", column 'EventId'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b07878fe-58ab-4ddd-a381-4c35b2e021f6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-54-04 13:54:41.033 +02:00 INF Application is starting...
2022-54-04 13:54:42.287 +02:00 INF Now listening on: https://localhost:7089
2022-54-04 13:54:42.292 +02:00 INF Now listening on: http://localhost:5089
2022-54-04 13:54:42.295 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-54-04 13:54:42.295 +02:00 INF Hosting environment: Development
2022-54-04 13:54:42.295 +02:00 INF Content root path: D:\projekty\Asp.net advanced\week1\TW\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-54-04 13:54:42.972 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-54-04 13:54:43.207 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 237.0796ms
2022-54-04 13:54:43.223 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-54-04 13:54:43.228 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 5.3454ms
2022-54-04 13:54:43.344 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-54-04 13:54:43.470 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 126.0284ms
2022-54-04 13:54:47.526 +02:00 INF Request starting HTTP/2 DELETE https://localhost:7089/Event/1 - -
2022-54-04 13:54:47.551 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.DeleteEvent (FriendlyGames.Api)'
2022-54-04 13:54:47.576 +02:00 INF Route matched with {action = "DeleteEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteEvent(Int32) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-54-04 13:54:47.903 +02:00 INF DeleteEvent called...
2022-54-04 13:54:48.817 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-54-04 13:54:49.840 +02:00 INF Executed DbCommand (79ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [r0].[Id], [r0].[Name], [u].[Id], [u].[FirstName], [u].[LastName]
FROM [Registrations] AS [r]
INNER JOIN [RegistrationCategories] AS [r0] ON [r].[RegistrationCategoryId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [r].[EventId] = @__id_0
2022-54-04 13:54:50.077 +02:00 INF Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatorId], [t].[EndDateTime], [t].[EventCategoryId], [t].[LevelCategoryId], [t].[Name], [t].[StartDateTime], [t].[SurfaceCategoryId], [t].[SurroundingCategoryId], [t].[Id0], [t].[FirstName], [t].[LastName], [t].[Id1], [t].[Description], [t].[Name0], [t].[Id2], [t].[Id3], [t].[Id4], [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [t].[Name1], [t].[Name2], [t].[Name3]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatorId], [e].[EndDateTime], [e].[EventCategoryId], [e].[LevelCategoryId], [e].[Name], [e].[StartDateTime], [e].[SurfaceCategoryId], [e].[SurroundingCategoryId], [u].[Id] AS [Id0], [u].[FirstName], [u].[LastName], [e0].[Id] AS [Id1], [e0].[Description], [e0].[Name] AS [Name0], [l].[Id] AS [Id2], [l].[Name] AS [Name1], [s].[Id] AS [Id3], [s].[Name] AS [Name2], [s0].[Id] AS [Id4], [s0].[Name] AS [Name3]
    FROM [Events] AS [e]
    INNER JOIN [Users] AS [u] ON [e].[CreatorId] = [u].[Id]
    INNER JOIN [EventCategories] AS [e0] ON [e].[EventCategoryId] = [e0].[Id]
    INNER JOIN [LevelCategories] AS [l] ON [e].[LevelCategoryId] = [l].[Id]
    INNER JOIN [SurfaceCategories] AS [s] ON [e].[SurfaceCategoryId] = [s].[Id]
    INNER JOIN [SurroundingCategories] AS [s0] ON [e].[SurroundingCategoryId] = [s0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Registrations] AS [r] ON [t].[Id] = [r].[EventId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [r].[EventId]
2022-54-04 13:54:50.211 +02:00 ERR Something went wrong in DeleteEvent
System.InvalidOperationException: The association between entity types 'Event' and 'Registration' has been severed, but the relationship is either marked as required or is implicitly required because the foreign key is not nullable. If the dependent/child entity should be deleted when a required relationship is severed, configure the relationship to use cascade deletes. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.HandleConceptualNulls(Boolean sensitiveLoggingEnabled, Boolean force, Boolean isCascadeDelete)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.CascadeDelete(InternalEntityEntry entry, Boolean force, IEnumerable`1 foreignKeys)
   at Microsoft.EntityFrameworkCore.ChangeTracking.EntityEntry.set_State(EntityState value)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Remove(TEntity entity)
   at FriendlyGames.Api.Controllers.EventController.DeleteEvent(Int32 id) in D:\projekty\Asp.net advanced\week1\TW\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api\Controllers\EventController.cs:line 164
2022-54-04 13:54:50.243 +02:00 INF Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-54-04 13:54:50.385 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.DeleteEvent (FriendlyGames.Api) in 2804.0741ms
2022-54-04 13:54:50.387 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.DeleteEvent (FriendlyGames.Api)'
2022-54-04 13:54:50.396 +02:00 INF Request finished HTTP/2 DELETE https://localhost:7089/Event/1 - - - 500 260 application/problem+json;+charset=utf-8 2869.7889ms
2022-55-04 13:55:12.433 +02:00 INF Application is starting...
2022-55-04 13:55:13.408 +02:00 INF Now listening on: https://localhost:7089
2022-55-04 13:55:13.411 +02:00 INF Now listening on: http://localhost:5089
2022-55-04 13:55:13.414 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-55-04 13:55:13.414 +02:00 INF Hosting environment: Development
2022-55-04 13:55:13.414 +02:00 INF Content root path: D:\projekty\Asp.net advanced\week1\TW\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-55-04 13:55:13.944 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-55-04 13:55:14.281 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 343.3906ms
2022-55-04 13:55:14.310 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-55-04 13:55:14.315 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 4.6692ms
2022-55-04 13:55:14.487 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-55-04 13:55:14.689 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 203.3043ms
2022-55-04 13:55:52.721 +02:00 INF Request starting HTTP/2 DELETE https://localhost:7089/Event/1 - -
2022-55-04 13:55:52.744 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.DeleteEvent (FriendlyGames.Api)'
2022-55-04 13:55:52.767 +02:00 INF Route matched with {action = "DeleteEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteEvent(Int32) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-55-04 13:55:53.076 +02:00 INF DeleteEvent called...
2022-56-04 13:56:08.539 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-56-04 13:56:09.576 +02:00 INF Executed DbCommand (81ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [r0].[Id], [r0].[Name], [u].[Id], [u].[FirstName], [u].[LastName]
FROM [Registrations] AS [r]
INNER JOIN [RegistrationCategories] AS [r0] ON [r].[RegistrationCategoryId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [r].[EventId] = @__id_0
2022-56-04 13:56:18.551 +02:00 INF Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatorId], [t].[EndDateTime], [t].[EventCategoryId], [t].[LevelCategoryId], [t].[Name], [t].[StartDateTime], [t].[SurfaceCategoryId], [t].[SurroundingCategoryId], [t].[Id0], [t].[FirstName], [t].[LastName], [t].[Id1], [t].[Description], [t].[Name0], [t].[Id2], [t].[Id3], [t].[Id4], [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [t].[Name1], [t].[Name2], [t].[Name3]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatorId], [e].[EndDateTime], [e].[EventCategoryId], [e].[LevelCategoryId], [e].[Name], [e].[StartDateTime], [e].[SurfaceCategoryId], [e].[SurroundingCategoryId], [u].[Id] AS [Id0], [u].[FirstName], [u].[LastName], [e0].[Id] AS [Id1], [e0].[Description], [e0].[Name] AS [Name0], [l].[Id] AS [Id2], [l].[Name] AS [Name1], [s].[Id] AS [Id3], [s].[Name] AS [Name2], [s0].[Id] AS [Id4], [s0].[Name] AS [Name3]
    FROM [Events] AS [e]
    INNER JOIN [Users] AS [u] ON [e].[CreatorId] = [u].[Id]
    INNER JOIN [EventCategories] AS [e0] ON [e].[EventCategoryId] = [e0].[Id]
    INNER JOIN [LevelCategories] AS [l] ON [e].[LevelCategoryId] = [l].[Id]
    INNER JOIN [SurfaceCategories] AS [s] ON [e].[SurfaceCategoryId] = [s].[Id]
    INNER JOIN [SurroundingCategories] AS [s0] ON [e].[SurroundingCategoryId] = [s0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Registrations] AS [r] ON [t].[Id] = [r].[EventId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [r].[EventId]
2022-00-04 14:00:22.619 +02:00 INF Application is starting...
2022-00-04 14:00:24.044 +02:00 INF Now listening on: https://localhost:7089
2022-00-04 14:00:24.048 +02:00 INF Now listening on: http://localhost:5089
2022-00-04 14:00:24.051 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-00-04 14:00:24.052 +02:00 INF Hosting environment: Development
2022-00-04 14:00:24.052 +02:00 INF Content root path: D:\projekty\Asp.net advanced\week1\TW\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-00-04 14:00:24.563 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-00-04 14:00:24.795 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 234.8586ms
2022-00-04 14:00:24.810 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-00-04 14:00:24.814 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 4.5823ms
2022-00-04 14:00:24.931 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-00-04 14:00:25.055 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 123.0956ms
2022-00-04 14:00:30.883 +02:00 INF Request starting HTTP/2 DELETE https://localhost:7089/Event/1 - -
2022-00-04 14:00:30.908 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.DeleteEvent (FriendlyGames.Api)'
2022-00-04 14:00:30.935 +02:00 INF Route matched with {action = "DeleteEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteEvent(Int32) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-00-04 14:00:31.256 +02:00 INF DeleteEvent called...
2022-00-04 14:00:32.171 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-00-04 14:00:33.153 +02:00 INF Executed DbCommand (78ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [r0].[Id], [r0].[Name], [u].[Id], [u].[FirstName], [u].[LastName]
FROM [Registrations] AS [r]
INNER JOIN [RegistrationCategories] AS [r0] ON [r].[RegistrationCategoryId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [r].[EventId] = @__id_0
2022-00-04 14:00:33.387 +02:00 INF Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatorId], [t].[EndDateTime], [t].[EventCategoryId], [t].[LevelCategoryId], [t].[Name], [t].[StartDateTime], [t].[SurfaceCategoryId], [t].[SurroundingCategoryId], [t].[Id0], [t].[FirstName], [t].[LastName], [t].[Id1], [t].[Description], [t].[Name0], [t].[Id2], [t].[Id3], [t].[Id4], [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [t].[Name1], [t].[Name2], [t].[Name3]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatorId], [e].[EndDateTime], [e].[EventCategoryId], [e].[LevelCategoryId], [e].[Name], [e].[StartDateTime], [e].[SurfaceCategoryId], [e].[SurroundingCategoryId], [u].[Id] AS [Id0], [u].[FirstName], [u].[LastName], [e0].[Id] AS [Id1], [e0].[Description], [e0].[Name] AS [Name0], [l].[Id] AS [Id2], [l].[Name] AS [Name1], [s].[Id] AS [Id3], [s].[Name] AS [Name2], [s0].[Id] AS [Id4], [s0].[Name] AS [Name3]
    FROM [Events] AS [e]
    INNER JOIN [Users] AS [u] ON [e].[CreatorId] = [u].[Id]
    INNER JOIN [EventCategories] AS [e0] ON [e].[EventCategoryId] = [e0].[Id]
    INNER JOIN [LevelCategories] AS [l] ON [e].[LevelCategoryId] = [l].[Id]
    INNER JOIN [SurfaceCategories] AS [s] ON [e].[SurfaceCategoryId] = [s].[Id]
    INNER JOIN [SurroundingCategories] AS [s0] ON [e].[SurroundingCategoryId] = [s0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Registrations] AS [r] ON [t].[Id] = [r].[EventId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [r].[EventId]
2022-00-04 14:00:33.563 +02:00 INF Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Registrations]
WHERE [EventId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;
2022-00-04 14:00:33.571 +02:00 INF Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Registrations]
WHERE [EventId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;
2022-00-04 14:00:33.575 +02:00 INF Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Events]
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2022-00-04 14:00:33.615 +02:00 INF Executing StatusCodeResult, setting HTTP status code 204
2022-00-04 14:00:33.620 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.DeleteEvent (FriendlyGames.Api) in 2681.0966ms
2022-00-04 14:00:33.621 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.DeleteEvent (FriendlyGames.Api)'
2022-00-04 14:00:33.629 +02:00 INF Request finished HTTP/2 DELETE https://localhost:7089/Event/1 - - - 204 - - 2746.0665ms
2022-00-04 14:00:57.726 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/Event/1 - -
2022-00-04 14:00:57.731 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api)'
2022-00-04 14:00:57.734 +02:00 INF Route matched with {action = "GetEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FriendlyGames.Api.Dtos.EventGetDto]] GetEvent(Int32) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-00-04 14:00:57.737 +02:00 INF GetEvent called...
2022-00-04 14:00:57.745 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-00-04 14:00:57.750 +02:00 INF Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [r0].[Id], [r0].[Name], [u].[Id], [u].[FirstName], [u].[LastName]
FROM [Registrations] AS [r]
INNER JOIN [RegistrationCategories] AS [r0] ON [r].[RegistrationCategoryId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [r].[EventId] = @__id_0
2022-00-04 14:00:57.766 +02:00 INF Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatorId], [t].[EndDateTime], [t].[EventCategoryId], [t].[LevelCategoryId], [t].[Name], [t].[StartDateTime], [t].[SurfaceCategoryId], [t].[SurroundingCategoryId], [t].[Id0], [t].[FirstName], [t].[LastName], [t].[Id1], [t].[Description], [t].[Name0], [t].[Id2], [t].[Id3], [t].[Id4], [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [t].[Name1], [t].[Name2], [t].[Name3]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatorId], [e].[EndDateTime], [e].[EventCategoryId], [e].[LevelCategoryId], [e].[Name], [e].[StartDateTime], [e].[SurfaceCategoryId], [e].[SurroundingCategoryId], [u].[Id] AS [Id0], [u].[FirstName], [u].[LastName], [e0].[Id] AS [Id1], [e0].[Description], [e0].[Name] AS [Name0], [l].[Id] AS [Id2], [l].[Name] AS [Name1], [s].[Id] AS [Id3], [s].[Name] AS [Name2], [s0].[Id] AS [Id4], [s0].[Name] AS [Name3]
    FROM [Events] AS [e]
    INNER JOIN [Users] AS [u] ON [e].[CreatorId] = [u].[Id]
    INNER JOIN [EventCategories] AS [e0] ON [e].[EventCategoryId] = [e0].[Id]
    INNER JOIN [LevelCategories] AS [l] ON [e].[LevelCategoryId] = [l].[Id]
    INNER JOIN [SurfaceCategories] AS [s] ON [e].[SurfaceCategoryId] = [s].[Id]
    INNER JOIN [SurroundingCategories] AS [s0] ON [e].[SurroundingCategoryId] = [s0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Registrations] AS [r] ON [t].[Id] = [r].[EventId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [r].[EventId]
2022-00-04 14:00:57.772 +02:00 INF Executing NotFoundObjectResult, writing value of type 'System.String'.
2022-00-04 14:00:57.773 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api) in 38.4255ms
2022-00-04 14:00:57.773 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api)'
2022-00-04 14:00:57.773 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/Event/1 - - - 404 - text/plain;+charset=utf-8 46.6522ms
2022-01-04 14:01:07.119 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/Event/2 - -
2022-01-04 14:01:07.119 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api)'
2022-01-04 14:01:07.120 +02:00 INF Route matched with {action = "GetEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FriendlyGames.Api.Dtos.EventGetDto]] GetEvent(Int32) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-01-04 14:01:07.121 +02:00 INF GetEvent called...
2022-01-04 14:01:07.163 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-01-04 14:01:07.165 +02:00 INF Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [r0].[Id], [r0].[Name], [u].[Id], [u].[FirstName], [u].[LastName]
FROM [Registrations] AS [r]
INNER JOIN [RegistrationCategories] AS [r0] ON [r].[RegistrationCategoryId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [r].[EventId] = @__id_0
2022-01-04 14:01:07.166 +02:00 INF Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatorId], [t].[EndDateTime], [t].[EventCategoryId], [t].[LevelCategoryId], [t].[Name], [t].[StartDateTime], [t].[SurfaceCategoryId], [t].[SurroundingCategoryId], [t].[Id0], [t].[FirstName], [t].[LastName], [t].[Id1], [t].[Description], [t].[Name0], [t].[Id2], [t].[Id3], [t].[Id4], [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [t].[Name1], [t].[Name2], [t].[Name3]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatorId], [e].[EndDateTime], [e].[EventCategoryId], [e].[LevelCategoryId], [e].[Name], [e].[StartDateTime], [e].[SurfaceCategoryId], [e].[SurroundingCategoryId], [u].[Id] AS [Id0], [u].[FirstName], [u].[LastName], [e0].[Id] AS [Id1], [e0].[Description], [e0].[Name] AS [Name0], [l].[Id] AS [Id2], [l].[Name] AS [Name1], [s].[Id] AS [Id3], [s].[Name] AS [Name2], [s0].[Id] AS [Id4], [s0].[Name] AS [Name3]
    FROM [Events] AS [e]
    INNER JOIN [Users] AS [u] ON [e].[CreatorId] = [u].[Id]
    INNER JOIN [EventCategories] AS [e0] ON [e].[EventCategoryId] = [e0].[Id]
    INNER JOIN [LevelCategories] AS [l] ON [e].[LevelCategoryId] = [l].[Id]
    INNER JOIN [SurfaceCategories] AS [s] ON [e].[SurfaceCategoryId] = [s].[Id]
    INNER JOIN [SurroundingCategories] AS [s0] ON [e].[SurroundingCategoryId] = [s0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Registrations] AS [r] ON [t].[Id] = [r].[EventId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [r].[EventId]
2022-01-04 14:01:07.180 +02:00 INF Executing OkObjectResult, writing value of type 'FriendlyGames.Api.Dtos.EventGetDto'.
2022-01-04 14:01:07.328 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api) in 208.167ms
2022-01-04 14:01:07.328 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.GetEvent (FriendlyGames.Api)'
2022-01-04 14:01:07.328 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/Event/2 - - - 200 3429 application/json;+charset=utf-8 208.9365ms
2022-13-04 14:13:13.407 +02:00 INF Application is starting...
2022-13-04 14:13:18.167 +02:00 INF Now listening on: https://localhost:7089
2022-13-04 14:13:18.176 +02:00 INF Now listening on: http://localhost:5089
2022-13-04 14:13:18.181 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-13-04 14:13:18.182 +02:00 INF Hosting environment: Development
2022-13-04 14:13:18.182 +02:00 INF Content root path: D:\Codecool\Advanced - ASP.NET\Week Pair 1\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-13-04 14:13:19.269 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-13-04 14:13:19.901 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 638.2973ms
2022-13-04 14:13:19.943 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-13-04 14:13:19.945 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_vs/browserLink - -
2022-13-04 14:13:19.954 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 12004 application/javascript;+charset=utf-8 11.0748ms
2022-13-04 14:13:20.068 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 123.0280ms
2022-13-04 14:13:20.262 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-13-04 14:13:20.605 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 343.6046ms
2022-13-04 14:13:39.828 +02:00 INF Request starting HTTP/2 PUT https://localhost:7089/Event/1 - 0
2022-13-04 14:13:39.877 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.UpdateEvent (FriendlyGames.Api)'
2022-13-04 14:13:39.921 +02:00 INF Route matched with {action = "UpdateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateEvent(Int32) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-13-04 14:13:40.527 +02:00 INF UpdateEvent called...
2022-13-04 14:13:42.335 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-13-04 14:13:45.427 +02:00 INF Executed DbCommand (175ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[CreatorId], [e].[EndDateTime], [e].[EventCategoryId], [e].[LevelCategoryId], [e].[Name], [e].[StartDateTime], [e].[SurfaceCategoryId], [e].[SurroundingCategoryId]
FROM [Events] AS [e]
WHERE [e].[Id] = @__id_0
2022-13-04 14:13:45.902 +02:00 INF Executed DbCommand (14ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Events] SET [CreatorId] = @p0, [EndDateTime] = @p1, [EventCategoryId] = @p2, [LevelCategoryId] = @p3, [Name] = @p4, [StartDateTime] = @p5, [SurfaceCategoryId] = @p6, [SurroundingCategoryId] = @p7
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;
2022-13-04 14:13:46.034 +02:00 INF Executing OkObjectResult, writing value of type 'FriendlyGames.Api.Dtos.EventGetDto'.
2022-13-04 14:13:46.309 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.UpdateEvent (FriendlyGames.Api) in 6377.7074ms
2022-13-04 14:13:46.312 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.UpdateEvent (FriendlyGames.Api)'
2022-13-04 14:13:46.332 +02:00 INF Request finished HTTP/2 PUT https://localhost:7089/Event/1 - 0 - 200 324 application/json;+charset=utf-8 6504.7127ms
2022-16-04 14:16:18.770 +02:00 INF Application is starting...
2022-16-04 14:16:21.199 +02:00 INF Now listening on: https://localhost:7089
2022-16-04 14:16:21.206 +02:00 INF Now listening on: http://localhost:5089
2022-16-04 14:16:21.213 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-16-04 14:16:21.213 +02:00 INF Hosting environment: Development
2022-16-04 14:16:21.213 +02:00 INF Content root path: D:\Codecool\Advanced - ASP.NET\Week Pair 1\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-16-04 14:16:22.243 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-16-04 14:16:22.921 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 696.5490ms
2022-16-04 14:16:22.992 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-16-04 14:16:23.019 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_vs/browserLink - -
2022-16-04 14:16:23.090 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 12004 application/javascript;+charset=utf-8 97.5134ms
2022-16-04 14:16:23.268 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 249.6183ms
2022-16-04 14:16:23.619 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-16-04 14:16:24.071 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 461.6119ms
2022-16-04 14:16:32.853 +02:00 INF Request starting HTTP/2 PUT https://localhost:7089/Event/1 - 0
2022-16-04 14:16:32.912 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.UpdateEvent (FriendlyGames.Api)'
2022-16-04 14:16:32.954 +02:00 INF Route matched with {action = "UpdateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateEvent(Int32) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-16-04 14:16:33.472 +02:00 INF UpdateEvent called...
2022-16-04 14:16:35.015 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-16-04 14:16:36.795 +02:00 INF Executed DbCommand (123ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [r0].[Id], [r0].[Name], [u].[Id], [u].[FirstName], [u].[LastName]
FROM [Registrations] AS [r]
INNER JOIN [RegistrationCategories] AS [r0] ON [r].[RegistrationCategoryId] = [r0].[Id]
INNER JOIN [Users] AS [u] ON [r].[UserId] = [u].[Id]
WHERE [r].[EventId] = @__id_0
2022-16-04 14:16:37.202 +02:00 INF Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatorId], [t].[EndDateTime], [t].[EventCategoryId], [t].[LevelCategoryId], [t].[Name], [t].[StartDateTime], [t].[SurfaceCategoryId], [t].[SurroundingCategoryId], [t].[Id0], [t].[FirstName], [t].[LastName], [t].[Id1], [t].[Description], [t].[Name0], [t].[Id2], [t].[Id3], [t].[Id4], [r].[EventId], [r].[UserId], [r].[RegistrationCategoryId], [r].[RegistrationDateTime], [t].[Name1], [t].[Name2], [t].[Name3]
FROM (
    SELECT TOP(1) [e].[Id], [e].[CreatorId], [e].[EndDateTime], [e].[EventCategoryId], [e].[LevelCategoryId], [e].[Name], [e].[StartDateTime], [e].[SurfaceCategoryId], [e].[SurroundingCategoryId], [u].[Id] AS [Id0], [u].[FirstName], [u].[LastName], [e0].[Id] AS [Id1], [e0].[Description], [e0].[Name] AS [Name0], [l].[Id] AS [Id2], [l].[Name] AS [Name1], [s].[Id] AS [Id3], [s].[Name] AS [Name2], [s0].[Id] AS [Id4], [s0].[Name] AS [Name3]
    FROM [Events] AS [e]
    INNER JOIN [Users] AS [u] ON [e].[CreatorId] = [u].[Id]
    INNER JOIN [EventCategories] AS [e0] ON [e].[EventCategoryId] = [e0].[Id]
    INNER JOIN [LevelCategories] AS [l] ON [e].[LevelCategoryId] = [l].[Id]
    INNER JOIN [SurfaceCategories] AS [s] ON [e].[SurfaceCategoryId] = [s].[Id]
    INNER JOIN [SurroundingCategories] AS [s0] ON [e].[SurroundingCategoryId] = [s0].[Id]
    WHERE [e].[Id] = @__id_0
) AS [t]
LEFT JOIN [Registrations] AS [r] ON [t].[Id] = [r].[EventId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [r].[EventId]
2022-16-04 14:16:37.531 +02:00 INF Executed DbCommand (9ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Events] SET [CreatorId] = @p0, [EndDateTime] = @p1, [EventCategoryId] = @p2, [LevelCategoryId] = @p3, [Name] = @p4, [StartDateTime] = @p5, [SurfaceCategoryId] = @p6, [SurroundingCategoryId] = @p7
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;
2022-16-04 14:16:37.601 +02:00 INF Executing OkObjectResult, writing value of type 'FriendlyGames.Api.Dtos.EventGetDto'.
2022-16-04 14:16:37.862 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.UpdateEvent (FriendlyGames.Api) in 4896.6108ms
2022-16-04 14:16:37.864 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.UpdateEvent (FriendlyGames.Api)'
2022-16-04 14:16:37.887 +02:00 INF Request finished HTTP/2 PUT https://localhost:7089/Event/1 - 0 - 200 3468 application/json;+charset=utf-8 5034.2163ms
