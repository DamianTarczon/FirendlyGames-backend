2022-02-04 11:02:05.788 +02:00 INF Application is starting...
2022-02-04 11:02:07.749 +02:00 INF Now listening on: https://localhost:7089
2022-02-04 11:02:07.752 +02:00 INF Now listening on: http://localhost:5089
2022-02-04 11:02:07.755 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-02-04 11:02:07.755 +02:00 INF Hosting environment: Development
2022-02-04 11:02:07.755 +02:00 INF Content root path: C:\Users\dell\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-02-04 11:02:08.750 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger - -
2022-02-04 11:02:08.905 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger - - - 301 0 - 157.8870ms
2022-02-04 11:02:08.928 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-02-04 11:02:09.820 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 892.6533ms
2022-02-04 11:02:09.945 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/swagger-ui.css - -
2022-02-04 11:02:10.015 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/swagger-ui-bundle.js - -
2022-02-04 11:02:10.015 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/swagger-ui-standalone-preset.js - -
2022-02-04 11:02:10.103 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-02-04 11:02:10.112 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 8.0687ms
2022-02-04 11:02:10.123 +02:00 INF Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-02-04 11:02:10.123 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/swagger-ui.css - - - 200 143943 text/css 178.8042ms
2022-02-04 11:02:10.293 +02:00 INF Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-02-04 11:02:10.296 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/swagger-ui-standalone-preset.js - - - 200 339486 application/javascript 280.4658ms
2022-02-04 11:02:10.360 +02:00 INF Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-02-04 11:02:10.360 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/swagger-ui-bundle.js - - - 200 1096145 application/javascript 345.0493ms
2022-02-04 11:02:10.849 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-02-04 11:02:10.945 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 96.8076ms
2022-02-04 11:02:57.925 +02:00 INF Application is starting...
2022-03-04 11:03:54.543 +02:00 INF Application is starting...
2022-03-04 11:03:57.164 +02:00 INF Now listening on: https://localhost:7089
2022-03-04 11:03:57.168 +02:00 INF Now listening on: http://localhost:5089
2022-03-04 11:03:57.170 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-03-04 11:03:57.171 +02:00 INF Hosting environment: Development
2022-03-04 11:03:57.171 +02:00 INF Content root path: C:\Users\dell\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-03-04 11:03:58.212 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-03-04 11:03:58.657 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 449.6421ms
2022-03-04 11:03:58.718 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-03-04 11:03:58.844 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 125.1829ms
2022-03-04 11:03:59.185 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-03-04 11:03:59.253 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 67.8415ms
2022-04-04 11:04:36.112 +02:00 INF Application is starting...
2022-04-04 11:04:38.342 +02:00 INF Now listening on: https://localhost:7089
2022-04-04 11:04:38.347 +02:00 INF Now listening on: http://localhost:5089
2022-04-04 11:04:38.351 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-04-04 11:04:38.351 +02:00 INF Hosting environment: Development
2022-04-04 11:04:38.351 +02:00 INF Content root path: C:\Users\dell\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-04-04 11:04:39.353 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-04-04 11:04:39.868 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-04-04 11:04:39.877 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 522.4054ms
2022-04-04 11:04:39.880 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 12.2322ms
2022-04-04 11:04:40.211 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-04-04 11:04:40.400 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 189.1521ms
2022-04-04 11:04:47.552 +02:00 INF Request starting HTTP/2 POST https://localhost:7089/Event application/json-patch+json 236
2022-04-04 11:04:47.582 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api)'
2022-04-04 11:04:47.619 +02:00 INF Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(FriendlyGames.Api.Dtos.EventCreateDto) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-04-04 11:04:48.422 +02:00 INF CreateEvent called...
2022-04-04 11:04:49.614 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-04-04 11:04:52.036 +02:00 ERR Failed executing DbCommand (1,256ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Events] ([CreatorId], [EndDateTime], [EventCategoryId], [LevelCategoryId], [Name], [StartDateTime], [SurfaceCategoryId], [SurroundingCategoryId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Events]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-04-04 11:04:52.156 +02:00 ERR An exception occurred in the database while saving changes for context type 'FriendlyGames.DataAccess.FriendlyGamesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Events_EventCategories_EventCategoryId". The conflict occurred in database "FriendlyGames", table "dbo.EventCategories", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1699ae16-e50d-4b1a-8777-7fcf2aa65668
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Events_EventCategories_EventCategoryId". The conflict occurred in database "FriendlyGames", table "dbo.EventCategories", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1699ae16-e50d-4b1a-8777-7fcf2aa65668
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-04-04 11:04:52.248 +02:00 ERR Something went wrong in CreateEvent
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Events_EventCategories_EventCategoryId". The conflict occurred in database "FriendlyGames", table "dbo.EventCategories", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1699ae16-e50d-4b1a-8777-7fcf2aa65668
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FriendlyGames.Api.Controllers.EventController.CreateEvent(EventCreateDto eventCreateDto) in C:\Users\dell\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api\Controllers\EventController.cs:line 46
2022-04-04 11:04:52.314 +02:00 INF Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-04-04 11:04:52.384 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api) in 4759.7504ms
2022-04-04 11:04:52.385 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api)'
2022-04-04 11:04:52.395 +02:00 INF Request finished HTTP/2 POST https://localhost:7089/Event application/json-patch+json 236 - 500 260 application/problem+json;+charset=utf-8 4843.0329ms
2022-05-04 11:05:14.993 +02:00 INF Request starting HTTP/2 POST https://localhost:7089/Event application/json-patch+json 236
2022-05-04 11:05:14.994 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api)'
2022-05-04 11:05:14.994 +02:00 INF Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(FriendlyGames.Api.Dtos.EventCreateDto) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-05-04 11:05:14.996 +02:00 INF CreateEvent called...
2022-05-04 11:05:15.055 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-05-04 11:05:15.691 +02:00 ERR Failed executing DbCommand (626ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Events] ([CreatorId], [EndDateTime], [EventCategoryId], [LevelCategoryId], [Name], [StartDateTime], [SurfaceCategoryId], [SurroundingCategoryId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Events]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-05-04 11:05:15.694 +02:00 ERR An exception occurred in the database while saving changes for context type 'FriendlyGames.DataAccess.FriendlyGamesDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Events_EventCategories_EventCategoryId". The conflict occurred in database "FriendlyGames", table "dbo.EventCategories", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1699ae16-e50d-4b1a-8777-7fcf2aa65668
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Events_EventCategories_EventCategoryId". The conflict occurred in database "FriendlyGames", table "dbo.EventCategories", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1699ae16-e50d-4b1a-8777-7fcf2aa65668
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-05-04 11:05:15.747 +02:00 ERR Something went wrong in CreateEvent
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Events_EventCategories_EventCategoryId". The conflict occurred in database "FriendlyGames", table "dbo.EventCategories", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:1699ae16-e50d-4b1a-8777-7fcf2aa65668
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at FriendlyGames.Api.Controllers.EventController.CreateEvent(EventCreateDto eventCreateDto) in C:\Users\dell\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api\Controllers\EventController.cs:line 46
2022-05-04 11:05:15.750 +02:00 INF Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-05-04 11:05:15.751 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api) in 756.3833ms
2022-05-04 11:05:15.751 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api)'
2022-05-04 11:05:15.752 +02:00 INF Request finished HTTP/2 POST https://localhost:7089/Event application/json-patch+json 236 - 500 260 application/problem+json;+charset=utf-8 759.1214ms
2022-05-04 11:05:36.654 +02:00 INF Request starting HTTP/2 POST https://localhost:7089/Event application/json-patch+json 236
2022-05-04 11:05:36.655 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api)'
2022-05-04 11:05:36.655 +02:00 INF Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(FriendlyGames.Api.Dtos.EventCreateDto) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-05-04 11:05:36.664 +02:00 INF CreateEvent called...
2022-05-04 11:05:36.671 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-05-04 11:05:37.255 +02:00 INF Executed DbCommand (579ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Events] ([CreatorId], [EndDateTime], [EventCategoryId], [LevelCategoryId], [Name], [StartDateTime], [SurfaceCategoryId], [SurroundingCategoryId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Events]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-05-04 11:05:37.344 +02:00 INF Executing CreatedAtRouteResult, writing value of type 'FriendlyGames.Domain.Models.Event'.
2022-05-04 11:05:37.365 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api) in 710.4946ms
2022-05-04 11:05:37.366 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api)'
2022-05-04 11:05:37.373 +02:00 ERR An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-05-04 11:05:37.388 +02:00 INF Request finished HTTP/2 POST https://localhost:7089/Event application/json-patch+json 236 - 500 - text/plain;+charset=utf-8 734.2683ms
2022-06-04 11:06:19.138 +02:00 INF Application is starting...
2022-06-04 11:06:21.162 +02:00 INF Now listening on: https://localhost:7089
2022-06-04 11:06:21.167 +02:00 INF Now listening on: http://localhost:5089
2022-06-04 11:06:21.171 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-06-04 11:06:21.171 +02:00 INF Hosting environment: Development
2022-06-04 11:06:21.172 +02:00 INF Content root path: C:\Users\dell\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-06-04 11:06:21.915 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-06-04 11:06:22.262 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-06-04 11:06:22.266 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 355.1114ms
2022-06-04 11:06:22.287 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 25.0283ms
2022-06-04 11:06:22.553 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-06-04 11:06:22.879 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 325.7347ms
2022-06-04 11:06:29.418 +02:00 INF Request starting HTTP/2 POST https://localhost:7089/Event application/json-patch+json 236
2022-06-04 11:06:29.442 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api)'
2022-06-04 11:06:29.478 +02:00 INF Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(FriendlyGames.Api.Dtos.EventCreateDto) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-06-04 11:06:52.356 +02:00 INF CreateEvent called...
2022-08-04 11:08:21.497 +02:00 INF Application is starting...
2022-08-04 11:08:24.196 +02:00 INF Now listening on: https://localhost:7089
2022-08-04 11:08:24.199 +02:00 INF Now listening on: http://localhost:5089
2022-08-04 11:08:24.203 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-08-04 11:08:24.203 +02:00 INF Hosting environment: Development
2022-08-04 11:08:24.203 +02:00 INF Content root path: C:\Users\dell\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
2022-08-04 11:08:24.754 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/index.html - -
2022-08-04 11:08:25.119 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - -
2022-08-04 11:08:25.123 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/index.html - - - 200 - text/html;charset=utf-8 373.8265ms
2022-08-04 11:08:25.133 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/_framework/aspnetcore-browser-refresh.js - - - 200 11992 application/javascript;+charset=utf-8 14.1935ms
2022-08-04 11:08:25.409 +02:00 INF Request starting HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - -
2022-08-04 11:08:25.624 +02:00 INF Request finished HTTP/2 GET https://localhost:7089/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 214.6314ms
2022-08-04 11:08:42.419 +02:00 INF Request starting HTTP/2 POST https://localhost:7089/Event application/json-patch+json 236
2022-08-04 11:08:42.454 +02:00 INF Executing endpoint 'FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api)'
2022-08-04 11:08:42.488 +02:00 INF Route matched with {action = "CreateEvent", controller = "Event"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateEvent(FriendlyGames.Api.Dtos.EventCreateDto) on controller FriendlyGames.Api.Controllers.EventController (FriendlyGames.Api).
2022-08-04 11:08:49.616 +02:00 INF CreateEvent called...
2022-10-04 11:10:15.374 +02:00 INF Entity Framework Core 6.0.7 initialized 'FriendlyGamesDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: None
2022-10-04 11:10:17.702 +02:00 INF Executed DbCommand (757ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Events] ([CreatorId], [EndDateTime], [EventCategoryId], [LevelCategoryId], [Name], [StartDateTime], [SurfaceCategoryId], [SurroundingCategoryId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [Events]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-10-04 11:10:38.917 +02:00 INF Executing CreatedAtRouteResult, writing value of type 'FriendlyGames.Domain.Models.Event'.
2022-10-04 11:10:38.936 +02:00 INF Executed action FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api) in 116442.9979ms
2022-10-04 11:10:38.939 +02:00 INF Executed endpoint 'FriendlyGames.Api.Controllers.EventController.CreateEvent (FriendlyGames.Api)'
2022-10-04 11:10:38.945 +02:00 ERR An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-10-04 11:10:38.992 +02:00 INF Request finished HTTP/2 POST https://localhost:7089/Event application/json-patch+json 236 - 500 - text/plain;+charset=utf-8 116573.7700ms
2022-13-04 11:13:12.484 +02:00 INF Application is starting...
2022-13-04 11:13:14.784 +02:00 INF Now listening on: https://localhost:7089
2022-13-04 11:13:14.789 +02:00 INF Now listening on: http://localhost:5089
2022-13-04 11:13:14.794 +02:00 INF Application started. Press Ctrl+C to shut down.
2022-13-04 11:13:14.795 +02:00 INF Hosting environment: Development
2022-13-04 11:13:14.795 +02:00 INF Content root path: C:\Users\dell\el-proyecte-grande-sprint-1-csharp-adrianzych2\FriendlyGames.Api
